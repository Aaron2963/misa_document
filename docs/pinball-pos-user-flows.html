<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.\guide\pinball-pos-user-flows.md</title>
    <style>body {
    display: flex;
    margin: 0;
    padding: 0;
    height: 100vh;
}

nav {
    max-width: 300px;
    max-height: 100%;
    overflow: auto;
    padding: 1rem;
    background-color: antiquewhite;
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
}

nav dl {
    margin-top: 0;
}

nav dd {
    margin-inline-start: 1rem;
}

nav a {
    text-decoration: none;
    line-height: 2;
}

main {
    flex: 1;
    padding-left: 1rem;
    max-height: 100%;
    overflow: auto;
}

main code {
    background-color: rgba(233,233,233,0.85);
    padding: 0.25rem;
    margin-top: 0.25rem;
    margin-bottom: 0.25rem;
}
</style>
</head>

<body>
    <nav></nav>
    <main>
        <h1>彈珠星球 POS 應用程式使用流程</h1>
<h2>簡介</h2>
<p>本文件描述了彈珠星球 POS 應用程式的使用流程。該應用程式是一個用於彈珠星球商家的收銀系統，用戶可以使用該應用程式來管理商品、訂單、會員點數等。</p>
<h2>用戶流程</h2>
<h3>1. 登入分店</h3>
<ol>
<li>
<p>首頁 &gt; 設定</p>
</li>
<li>
<p>登入/登出</p>
</li>
<li>
<p>以密鑰登入</p>
</li>
<li>
<p>分店代碼=TP8V2XJV;分店密鑰=X9F2HR263PD6</p>
</li>
<li>
<p>SnackBar: 登入成功</p>
</li>
</ol>
<h3>2. 單據列印設定</h3>
<ol>
<li>
<p>首頁 &gt; 設定</p>
</li>
<li>
<p>印表機資訊</p>
</li>
<li>
<p>列印單據: 點數歸戶 =&gt; 關閉</p>
</li>
<li>
<p>列印單據: 寄存彈珠 =&gt; 關閉</p>
</li>
<li>
<p>列印單據: 提領彈珠 =&gt; 關閉</p>
</li>
<li>
<p>列印單據: 兌換贈品 =&gt; 關閉</p>
</li>
<li>
<p>列印測試頁</p>
</li>
</ol>
<h3>3. 點數歸戶</h3>
<ol>
<li>
<p>首頁 &gt; 點數歸戶</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入點數 =&gt; 10</p>
</li>
<li>
<p>確認 =&gt; 列印設定為關閉</p>
</li>
<li>
<p>存入會員帳戶</p>
</li>
<li>
<p>SnackBar: 存入會員帳戶成功: 10</p>
</li>
<li>
<p>確認 =&gt; 無單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
<li>
<p>首頁 &gt; 點數歸戶</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入點數 =&gt; 20</p>
</li>
<li>
<p>開啟列印設定</p>
</li>
<li>
<p>存入會員帳戶</p>
</li>
<li>
<p>SnackBar: 存入會員帳戶成功: 20</p>
</li>
<li>
<p>確認 =&gt; 單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
</ol>
<h3>4. 寄存彈珠</h3>
<ol>
<li>
<p>首頁 &gt; 寄存彈珠</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入顆數 =&gt; 10</p>
</li>
<li>
<p>確認 =&gt; 列印設定為關閉</p>
</li>
<li>
<p>存入會員帳戶</p>
</li>
<li>
<p>SnackBar: 存入會員帳戶成功: 10</p>
</li>
<li>
<p>確認 =&gt; 無單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
<li>
<p>首頁 &gt; 寄存彈珠</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入顆數 =&gt; 20</p>
</li>
<li>
<p>開啟列印設定</p>
</li>
<li>
<p>存入會員帳戶</p>
</li>
<li>
<p>SnackBar: 存入會員帳戶成功: 20</p>
</li>
<li>
<p>確認 =&gt; 單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
</ol>
<h3>5. 提領彈珠</h3>
<ol>
<li>
<p>首頁 &gt; 提領彈珠</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入顆數 =&gt; 10</p>
</li>
<li>
<p>確認 =&gt; 列印設定為關閉</p>
</li>
<li>
<p>提領彈珠</p>
</li>
<li>
<p>SnackBar: 提領彈珠成功: 10</p>
</li>
<li>
<p>確認 =&gt; 無單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
<li>
<p>首頁 &gt; 提領彈珠</p>
</li>
<li>
<p>輸入會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>輸入顆數 =&gt; 20</p>
</li>
<li>
<p>開啟列印設定</p>
</li>
<li>
<p>提領彈珠</p>
</li>
<li>
<p>SnackBar: 提領彈珠成功: 20</p>
</li>
<li>
<p>確認 =&gt; 單據列印</p>
</li>
<li>
<p>確認 =&gt; 回到首頁</p>
</li>
</ol>
<h3>6. 兌換贈品</h3>
<ol>
<li>
<p>首頁 &gt; 兌換贈品</p>
</li>
<li>
<p>開啟篩選</p>
</li>
<li>
<p>輸入範例贈品條碼 =&gt; 4713791934824</p>
</li>
<li>
<p>加入贈品到購物車</p>
</li>
<li>
<p>付款</p>
</li>
<li>
<p>收取彩票 =&gt; 70</p>
</li>
<li>
<p>會員電話 =&gt; 0987654321</p>
</li>
<li>
<p>確認 =&gt; 列印設定為關閉</p>
</li>
<li>
<p>開啟列印設定</p>
</li>
<li>
<p>確認付款</p>
</li>
<li>
<p>確認 =&gt; 單據列印</p>
</li>
</ol>
<h3>7. 點數歸戶並兌換贈品</h3>
<ol>
<li>首頁 &gt; 點數歸戶</li>
<li>輸入會員電話 =&gt; 0987654321</li>
<li>輸入點數 =&gt; 1000</li>
<li>存入並兌換贈品</li>
<li>SnackBar: 存入會員帳戶成功: 1000</li>
<li>確認 =&gt; 無單據列印</li>
<li>確認 =&gt; 到兌換贈品頁</li>
<li>輸入贈品條碼 =&gt; 4713791934824</li>
<li>加入贈品到購物車</li>
<li>付款</li>
<li>收取彩票 =&gt; 0</li>
<li>確認 =&gt; 會員電話: 0987654321</li>
<li>確認付款</li>
</ol>

    </main>
    <script>
        const navbar = document.querySelector('nav');
const main = document.querySelector('main');
const children = main.children;
const toc = {};

let cursorH1, cursorH2;
for (let i = 0; i < children.length; i++) {
    const child = children[i];
    const tag = child.tagName.toLowerCase();
    if (['h1', 'h2', 'h3'].indexOf(tag) === -1) continue;
    const text = child.innerText;
    const id = encodeURI(text.replace(/\s/g, '-'));
    child.setAttribute('id', id);
    if (tag === 'h1') {
        toc[id] = {
            id, text,
            item: {},
        };
        cursorH1 = toc[id].item;
    }
    if (tag === 'h2') {
        cursorH1[id] = {
            id, text,
            item: {},
        };
        cursorH2 = cursorH1[id].item;
    }
    if (tag === 'h3') {
        cursorH2[id] = { id, text};
    }
}

console.log(JSON.stringify(toc, null, 2));

for (let h1 in toc) {
    const header = toc[h1];
    const dl = document.createElement('dl');
    const dt = document.createElement('dt');
    const a = document.createElement('a');
    a.setAttribute('href', `#${header.id}`);
    a.innerText = header.text;
    dt.appendChild(a);
    dl.appendChild(dt);
    console.log(header.item);
    if (Object.keys(header.item).length > 0) {
        const dd = document.createElement('dd');
        const dl2 = document.createElement('dl');
        for (let h2 in header.item) {
            const header2 = header.item[h2];
            const dt2 = document.createElement('dt');
            const a2 = document.createElement('a');
            a2.setAttribute('href', `#${header2.id}`);
            a2.innerText = header2.text;
            dt2.appendChild(a2);
            dl2.appendChild(dt2);
            dd.appendChild(dl2);
            dl.appendChild(dd);
            if (Object.keys(header2.item).length > 0) {
                const dd2 = document.createElement('dd');
                const dl3 = document.createElement('dl');
                for (let h3 in header2.item) {
                    const header3 = header2.item[h3];
                    const dt3 = document.createElement('dt');
                    const a3 = document.createElement('a');
                    a3.setAttribute('href', `#${header3.id}`);
                    a3.innerText = header3.text;
                    dt3.appendChild(a3);
                    dl3.appendChild(dt3);
                }
                dd2.appendChild(dl3);
                dl2.appendChild(dd2);
            }
        }
    }
    navbar.appendChild(dl);
}

    </script>
</body>

</html>